<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>MindWeb</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimal-ui"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="yes"/>
    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon"/>

    <link rel="stylesheet" href="app/lib/mobile-angular-ui/dist/css/mobile-angular-ui-base.min.css"/>
    <link rel="stylesheet" href="app/lib/mobile-angular-ui/dist/css/mobile-angular-ui-desktop.min.css"/>
    <link rel="stylesheet" href="app/lib/mobile-angular-ui/dist/css/mobile-angular-ui-hover.min.css"/>

    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

    <link rel="stylesheet" href="app/app.css"/>

    <script src="app/lib/angular/angular.min.js"></script>
    <script src="app/lib/angular-animate/angular-animate.min.js"></script>
    <script src="app/lib/angular-bootstrap/ui-bootstrap-tpls.min.js"></script>
    <script src="app/lib/angular-cookies/angular-cookies.min.js"></script>
    <script src="app/lib/angular-ui-router/release/angular-ui-router.min.js"></script>
    <script src="app/lib/mobile-angular-ui/dist/js/mobile-angular-ui.min.js"></script>
    <script src="app/lib/mobile-angular-ui/dist/js/mobile-angular-ui.gestures.min.js"></script>

    <script src="app/lib/ng-file-upload-shim/ng-file-upload-shim.min.js"></script>
    <script src="app/lib/ng-file-upload/ng-file-upload.min.js"></script>

    <script src="app/lib/file-saver-js/FileSaver.min.js"></script>

    <script src="app/lib/angular-hotkeys/build/hotkeys.min.js"></script>
    <link href="app/lib/angular-hotkeys/build/hotkeys.min.css" rel="stylesheet">

    <!-- Tag editor control dependencies -->
    <link rel="stylesheet" href="app/lib/ng-tags-input/ng-tags-input.bootstrap.min.css"/>
    <script src="app/lib/ng-tags-input/ng-tags-input.min.js"></script>

    <!-- Tree control dependencies -->
    <link rel="stylesheet" href="app/lib/angular-ui-tree/dist/angular-ui-tree.min.css">
    <script src="app/lib/angular-ui-tree/dist/angular-ui-tree.min.js"></script>

    <!--Markdown editor dependencies -->
    <script src="app/lib/showdown/compressed/Showdown.min.js"></script>
    <script src="app/lib/showdown/compressed/extensions/github.min.js"></script>
    <script src="https://google-code-prettify.googlecode.com/svn/trunk/src/prettify.js"></script>
    <link href="https://google-code-prettify.googlecode.com/svn/trunk/src/prettify.css" rel="stylesheet">
    <script src="app/lib/showdown/compressed/extensions/prettify.min.js"></script>
    <script src="app/lib/angular-markdown/angular.markdown.js"></script>

    <!--Clipboard management-->
    <script src="app/lib/angular-clipboard/angular-clipboard.js"></script>

    <script src="app/app.js"></script>

    <!-- Service factories -->
    <script src="app/service/userService.js"></script>
    <script src="app/service/publicService.js"></script>
    <script src="app/service/taskService.js"></script>
    <script src="app/service/fileService.js"></script>
    <script src="app/service/friendService.js"></script>
    <script src="app/service/nodeService.js"></script>

    <!-- Modules -->
    <script src="app/user/user.js"></script>
    <script src="app/public/public.js"></script>
    <script src="app/files/files.js"></script>
    <script src="app/friends/friends.js"></script>
    <script src="app/viewer/viewer.js"></script>
    <script src="app/viewer/controllerMain.js"></script>
    <script src="app/viewer/controllerTask.js"></script>
    <script src="app/viewer/controllerTree.js"></script>
    <script src="app/viewer/controllerMindmap.js"></script>
    <script src="app/viewer/controllerDetail.js"></script>

</head>

<body ng-app="MindWebUi">

<!-- Sidebars -->
<div ng-include="'app/sidebar.html'"
     ui-track-as-search-param='true'
     class="sidebar sidebar-left"></div>

<div class="app"
     ng-swipe-right='Ui.turnOn("uiSidebarLeft")'
     ng-swipe-left='Ui.turnOff("uiSidebarLeft")'>

    <!-- Navbars -->

    <div class="navbar navbar-app navbar-absolute-top">
        <div class="navbar-brand navbar-brand-center" ui-yield-to="title">
            MindWeb
        </div>
        <div class="btn-group pull-left">
            <div ui-toggle="uiSidebarLeft" class="btn sidebar-toggle hidden-md hidden-lg" ng-animate="'slide'">
                <i class="fa fa-bars"></i> Menu
            </div>
        </div>
        <div class="btn-group pull-right" ui-yield-to="navbarAction">
            <div class="btn-group hidden-xs" ng-hide="currentUser===undefined">
                <a href="#/user/options" class="btn btn-navbar">
                    <img class="img-avatar" ng-src="{{currentUser.avatarUrl}}"/>
                    <span class="hidden-sm">{{currentUser.name}}</span></a>
                <a href="#/user/logout" class="btn btn-navbar"><i class="fa fa-2x fa-fw fa-sign-out"></i>Logout</a>
            </div>
            <div class="btn-group" ng-show="currentUser===undefined">
                <div class="btn btn-navbar" ui-turn-on="loginModal"><i class="fa fa-2x fa-fw fa-sign-in"></i>Login</div>
            </div>
        </div>
    </div>

    <!-- App Body -->
    <div class="app-body" ng-class="{loading: loading, error: error}">
        <div ng-show="loading" class="app-content-loading">
            <i class="fa fa-spinner fa-spin loading-spinner"></i>
        </div>
        <div class="app-content">
            <section ui-view></section>
        </div>
        <div ng-show="info" class="alert alert-info app-content-info alert-dismissible">
            <i class="fa fa-2x fa-info"></i> {{infoMsg}}
            <button type="button" class="close" ng-click="info=false">
                <span>&times;</span>
            </button>
        </div>
        <div ng-show="error" class="alert alert-danger app-content-error alert-dismissible">
            <i class="fa fa-2x fa-exclamation"></i> Error in application {{errorMsg}}
            <button type="button" class="close" ng-click="alert=false">
                <span>&times;</span>
            </button>
        </div>
    </div>
</div>
<!-- ~ .app -->
<div ui-yield-to="modals">
</div>
<div class="modal" ui-if="loginModal" ui-state='loginModal'>
    <div class="modal-backdrop"></div>
    <div class="modal-dialog modal-content loginDialog" role="dialog">
        <div class="modal-header">
            <h4 class="modal-title">Login</h4>
        </div>
        <div class="modal-body">
            <div class="btn-group btn-group-vertical">
                <a href="/auth/google" class="btn list-group-item">
                    <i class="fa fa-2x fa-stack fa-google-plus"></i>Login with Google account
                </a>
                <a href="/auth/twitter" class="btn list-group-item">
                    <i class="fa fa-2x fa-stack fa-twitter"></i>Login with Twitter account
                </a>
                <a href="/auth/linkedin" class="btn list-group-item">
                    <i class="fa fa-2x fa-stack fa-linkedin"></i>Login with LinkedIn account
                </a>
                <a href="/auth/facebook" class="btn list-group-item">
                    <i class="fa fa-2x fa-stack fa-facebook"></i>Login with Facebook account
                </a>
            </div>
        </div>
        <div class="modal-footer">
            <button ui-turn-off="loginModal" class="btn btn-default">Close</button>
        </div>
    </div>
</div>

</body>
</html>
