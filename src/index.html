<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>MindWeb</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="google-site-verification" content="Q1dwM27Je8Ba4rLMgwH-YRTg-OmyD7iqg7XYFeJxAPE"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="yes"/>
    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon"/>

    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">


    <!-- 1. Load libraries -->
    <!-- IE required polyfill -->
    <script src="node_modules/core-js/client/shim.min.js"></script>

    <script src="node_modules/zone.js/dist/zone.min.js"></script>
    <script src="node_modules/systemjs/dist/system.src.js"></script>
    <script src="systemjs.config.js"></script>

    <script src="node_modules/rxjs/bundles/Rx.js"></script>
    <script src="node_modules/@angular/core/bundles/core.umd.js"></script>
    <script src="node_modules/@angular/common/bundles/common.umd.js"></script>
    <script src="node_modules/@angular/compiler/bundles/compiler.umd.js"></script>
    <script src="node_modules/@angular/platform-browser/bundles/platform-browser.umd.js"></script>

    <!-- 2. Load our 'modules' -->
    <script>
        System.import("main.js").catch(function (err) {
            console.error(err);
        });
    </script>
</head>

<body>

<!-- Sidebars -->
<sidebar
        ui-track-as-search-param='true'
        class="sidebar sidebar-left"></sidebar>

<div class="app"
     ng-swipe-right='Ui.turnOn("uiSidebarLeft")'
     ng-swipe-left='Ui.turnOff("uiSidebarLeft")'>

    <!-- Navbars -->

    <div class="navbar navbar-app navbar-absolute-top">
        <div class="navbar-brand navbar-brand-center" ui-yield-to="title">
            MindWeb
        </div>
        <div class="btn-group pull-left">
            <div ui-toggle="uiSidebarLeft" class="btn sidebar-toggle hidden-md hidden-lg" ng-animate="'slide'">
                <i class="fa fa-bars"></i> Menu
            </div>
        </div>
        <div class="btn-group pull-right" ui-yield-to="navbarAction">
            <div class="btn-group hidden-xs" ng-hide="currentUser===undefined">
                <a href="#/user/options" class="btn btn-navbar">
                    <img class="img-avatar" ng-src="{{currentUser.avatarUrl}}"/>
                    <span class="hidden-sm">{{currentUser.name}}</span></a>
                <a href="#/user/logout" class="btn btn-navbar"><i class="fa fa-2x fa-fw fa-sign-out"></i>Logout</a>
            </div>
            <div class="btn-group" ng-show="currentUser===undefined">
                <div class="btn btn-navbar" ui-turn-on="loginModal"><i class="fa fa-2x fa-fw fa-sign-in"></i>Login</div>
            </div>
        </div>
    </div>

    <!-- App Body -->
    <div class="app-body" ng-class="{loading: loading, error: error}">
        <div ng-show="loading" class="app-content-loading">
            <i class="fa fa-spinner fa-spin loading-spinner"></i>
        </div>
        <div class="app-content">
            <section ui-view></section>
        </div>
        <div ng-show="info" class="alert alert-info app-content-info alert-dismissible">
            <i class="fa fa-2x fa-info"></i> {{infoMsg}}
            <button type="button" class="close" ng-click="info=false">
                <span>&times;</span>
            </button>
        </div>
        <div ng-show="error" class="alert alert-danger app-content-error alert-dismissible">
            <i class="fa fa-2x fa-exclamation"></i> Error in application {{errorMsg}}
            <button type="button" class="close" ng-click="alert=false">
                <span>&times;</span>
            </button>
        </div>
    </div>
</div>
<!-- ~ .app -->
<div ui-yield-to="modals">
</div>
<div class="modal" ui-if="loginModal" ui-state='loginModal'>
    <div class="modal-backdrop"></div>
    <div class="modal-dialog modal-content loginDialog" role="dialog">
        <div class="modal-header">
            <h4 class="modal-title">Login</h4>
        </div>
        <div class="modal-body">
            <div class="btn-group btn-group-vertical">
                <a href="/auth/google" class="btn list-group-item">
                    <i class="fa fa-2x fa-stack fa-google-plus"></i>Login with Google account
                </a>
                <a href="/auth/twitter" class="btn list-group-item">
                    <i class="fa fa-2x fa-stack fa-twitter"></i>Login with Twitter account
                </a>
                <a href="/auth/linkedin" class="btn list-group-item">
                    <i class="fa fa-2x fa-stack fa-linkedin"></i>Login with LinkedIn account
                </a>
                <a href="/auth/facebook" class="btn list-group-item">
                    <i class="fa fa-2x fa-stack fa-facebook"></i>Login with Facebook account
                </a>
            </div>
        </div>
        <div class="modal-footer">
            <button ui-turn-off="loginModal" class="btn btn-default">Close</button>
        </div>
    </div>
</div>

</body>
</html>
